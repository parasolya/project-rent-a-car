{"version":3,"file":"static/js/696.7cac7b40.chunk.js","mappings":"uk+BACA,EAAuB,0BAAvB,EAA+D,iCAA/D,EAA+G,kC,kBCiI/G,EAzHoB,WAClB,OAA0CA,EAAAA,EAAAA,UAAS,IAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAAsCJ,EAAAA,EAAAA,UAAS,GAA/C,eAAOK,EAAP,KAAoBC,EAApB,KACA,GAAsCN,EAAAA,EAAAA,WAAS,GAA/C,eAAOO,EAAP,KAAoBC,EAApB,MAEAC,EAAAA,EAAAA,YAAU,WACRC,EAAUL,EACX,GAAE,CAACA,IA2BJ,IAzBA,IAAMK,EAAS,mCAAG,WAAOC,GAAP,uFAEdP,GAAW,GAFG,UAGSQ,EAAAA,EAAAA,IAAUD,EAAM,GAHzB,OAIU,KADlBE,EAHQ,QAIDC,OAEXN,GAAe,GAEfN,EAAiBW,GAEnBT,GAAW,GAVG,gDAYdW,QAAQC,MAAR,MAZc,yBAedZ,GAAW,GAfG,4EAAH,sDAmBTa,EAAkBC,EAAAA,KAAa,SAAAC,GAAI,MAAK,CAC5CC,MAAOD,EACPE,MAAOF,EAFgC,IAKnCG,EAAW,GACRC,EAAI,GAAIA,GAAK,IAAKA,GAAK,GAC9BD,EAASE,KAAKD,GAEhB,IAAME,EAAkBH,EAASI,KAAI,SAAAP,GAAI,MAAK,CAAEC,MAAOD,EAAME,MAAOF,EAA3B,IAsDzC,OACE,iBAAKQ,UAAWC,EAAhB,WACE,0BACE,SAACC,EAAA,EAAD,CACEC,SAxDkB,SAAAC,GAExB,IAAMC,EAAeD,EACrBhB,QAAQkB,IAAID,GACZ,IASM/B,EATciC,EAAAA,KAAU,SAAAC,GAC5B,IAAMC,EAAcC,SAASF,EAAKC,YAAYE,QAAQ,MAAO,IAAK,IAElE,OAAO,kBACFH,GADL,IAEEC,YAAAA,GAEH,IAEiCG,QAChC,SAAAJ,GAAI,OACFA,EAAKhB,OAASa,EAAab,MAC3BgB,EAAKC,aAAeJ,EAAaI,aACjCD,EAAKK,SAAWH,SAASL,EAAaS,KAAM,KAC5CN,EAAKK,SAAWH,SAASL,EAAaU,GAAI,GAJxC,IAMNxC,EAAiBD,EAClB,EAoCOgB,gBAAiBA,EACjBQ,gBAAiBA,MAGpBtB,EAAU,cAAe,SAACwC,EAAA,EAAD,CAAWT,MAAOjC,EAAgB2C,sBAtCzC,SAACC,GACtB,IAAMnC,EAAS,mCAAG,kHAGKoC,EAAAA,EAAAA,MAHL,OAGRC,EAHQ,OAIdhC,QAAQkB,IAAR,6BAAmBc,EAAnB,WACMC,EAAW,CAAC,EAClBd,EAAAA,SAAc,SAACC,GACb,IAAQU,EAAOV,EAAPU,GACJG,EAASH,GACXG,EAASH,KAETG,EAASH,GAAM,CAElB,IAKKI,EAAeC,OAAOC,KAAKH,GAAUT,QAAO,SAACM,GAAD,OAAQG,EAASH,GAAM,CAAvB,IAElD9B,QAAQkB,IAAI,yFAAoBgB,GApBlB,kDAsBdlC,QAAQkB,IAAR,MAtBc,0DAAH,qDAyBfvB,GACD,KAYG,0BAEA,oBACE0C,QAAS,WACH7C,GAEFD,EADiBD,EAAc,EAGlC,EACDgD,MAAO,CAAEC,QAAS/C,EAAc,QAAU,QAC1CoB,UAAWC,EARb,eASE,cAAGD,UAAWC,EAAd,8BAMP,C","sources":["webpack://project-rent-a-car/./src/pages/CatalogPage/CatalogPage.module.css?b0a0","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"page\":\"CatalogPage_page__lbpZ6\",\"btnLoadMore\":\"CatalogPage_btnLoadMore__NyFFA\",\"textLoadMore\":\"CatalogPage_textLoadMore__o8h0L\"};","import { useState, useEffect } from 'react';\nimport ListCards from '../../components/ListCards/ListCards';\nimport items from '../../dataFile/advertsCars.json';\nimport carBrand from '../../dataFile/makes.json';\nimport { fetchCars, fetchDataAll } from '../../loadAPI.js';\nimport css from './CatalogPage.module.css';\n\nimport CatalogForm from '../../components/Form/CatalogForm/CatalogForm';\n\nconst CatalogPage = () => {\n  const [filteredArray, setFilteredArray] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasNextPage, setHasNextPage] = useState(true); // Додаємо стан для перевірки наявності наступної сторінки\n\n  useEffect(() => {\n    fetchData(currentPage);\n  }, [currentPage]);\n\n  const fetchData = async (page) => {\n    try {\n      setLoading(true);\n      const response = await fetchCars(page, 8); // Завантажуємо 8 автомобілів на сторінку\n      if (response.length === 0) {\n        // Якщо відповідь порожня, то немає наступної сторінки\n        setHasNextPage(false);\n      } else {\n        setFilteredArray(response);\n      }\n      setLoading(false);\n    } catch (error) {\n      console.error(error);\n      // Обробка помилки\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const optionsCarBrand = carBrand.map(make => ({\n    label: make,\n    value: make,\n  }));\n\n  const carPrice = [];\n  for (let i = 10; i <= 100; i += 10) {\n    carPrice.push(i);\n  }\n  const optionsCarPrice = carPrice.map(make => ({ label: make, value: make }));\n\n  const formSubmitCatalog = data => {\n    \n    const filterObject = data;\n    console.log(filterObject);\n    const newCarArray = items.map(item => {\n      const rentalPrice = parseInt(item.rentalPrice.replace(/\\D/g, ''), 10); \n\n      return {\n        ...item, \n        rentalPrice, \n      };\n    });\n\n    const filteredArray = newCarArray.filter(\n      item =>\n        item.make === filterObject.make &&\n        item.rentalPrice <= filterObject.rentalPrice &&\n        item.mileage >= parseInt(filterObject.from, 10) &&\n        item.mileage <= parseInt(filterObject.to, 10)\n    );    \n    setFilteredArray(filteredArray);\n  };\n\n  const changeFavorite = (id) => {\n    const fetchData = async () => {\n      try {\n        \n        const Cars = await fetchDataAll();\n        console.log(`тут ${Cars}і`); \n        const idCounts = {};       \n        items.forEach((item) => {\n          const { id } = item;\n          if (idCounts[id]) {\n            idCounts[id]++;\n          } else {\n            idCounts[id] = 1;\n          }\n        });\n        \n        // Зараз у вас є об'єкт idCounts, який містить кількість повторень для кожного ід\n        \n        // Виведіть ід, які повторюються більше одного разу\n        const duplicateIds = Object.keys(idCounts).filter((id) => idCounts[id] > 1);\n        \n        console.log('Повторюючіся ід:', duplicateIds);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchData();\n  };\n\n  return (\n    <div className={css.page}>      \n      <div>\n        <CatalogForm\n          onSubmit={formSubmitCatalog}\n          optionsCarBrand={optionsCarBrand}\n          optionsCarPrice={optionsCarPrice}\n        />\n      </div>\n      {loading ? 'Loading...' : <ListCards items={filteredArray}  onChangeFavoriteArrey={changeFavorite} />}\n      <div>\n      \n      <button\n        onClick={() => {\n          if (hasNextPage) {\n            const nextPage = currentPage + 1;\n            setCurrentPage(nextPage);\n          }\n        }}\n        style={{ display: hasNextPage ? 'block' : 'none' }}\n        className={css.btnLoadMore} \n      > <p className={css.textLoadMore} >Load more</p>\n        \n      </button>\n      </div>\n    </div>\n  );\n};\n\nexport default CatalogPage;\n"],"names":["useState","filteredArray","setFilteredArray","loading","setLoading","currentPage","setCurrentPage","hasNextPage","setHasNextPage","useEffect","fetchData","page","fetchCars","response","length","console","error","optionsCarBrand","carBrand","make","label","value","carPrice","i","push","optionsCarPrice","map","className","css","CatalogForm","onSubmit","data","filterObject","log","items","item","rentalPrice","parseInt","replace","filter","mileage","from","to","ListCards","onChangeFavoriteArrey","id","fetchDataAll","Cars","idCounts","duplicateIds","Object","keys","onClick","style","display"],"sourceRoot":""}